<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì˜¤ëŠ˜ì˜ ë¬¸ì¥ íƒ€ì ì—°ìŠµ</title>

<link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #fdebeb;
  font-family: 'Gowun Batang', serif;
}

.container {
  text-align: center;
  width: 700px;
}

.categories {
  margin-bottom: 14px;
}

.categories button {
  margin: 0 6px;
  padding: 6px 14px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  background: #ecbecd;
  color: #923e59;
  font-family: 'Gowun Batang', serif;
}

.categories button.active {
  background: #ae97c1;
  color: white;
}

.title {
  font-size: 22px;
  color: #ae97c1;
  margin-bottom: 22px;
  letter-spacing: 2px;
}

.sentence {
  font-size: 26px;
  margin-bottom: 26px;
  color: #e180c4;
  transition: opacity 0.4s ease;
  white-space: nowrap;
}

.fade-out {
  opacity: 0;
}

.correct { color: #869bc9; }
.incorrect { color: #ea7594; }

input {
  width: 520px;
  padding: 14px 18px;
  font-size: 25px;
  border-radius: 16px;
  border: none;
  outline: none;
  text-align: center;
  background: #ecbecd;
  color: #923e59;
  font-family: 'Gowun Batang', serif;
}

input::placeholder {
  color: #c36081;
}

.speed {
  margin-top: 18px;
  font-size: 20px;
  font-weight: bold;
}

.sparkle {
  filter: drop-shadow(0 0 6px rgba(255,255,255,0.9));
}
</style>
</head>

<body>

<div class="container">

  <div class="categories">
    <button class="active" data-type="drama">ë“œë¼ë§ˆ</button>
    <button data-type="movie">ì˜í™”</button>
    <button data-type="anime">ë§Œí™”</button>
  </div>

  <div class="title">ì˜¤ëŠ˜ì˜ ë¬¸ì¥</div>

  <div class="sentence" id="sentence"></div>

  <input id="input" placeholder="ì—¬ê¸°ì— ê·¸ëŒ€ë¡œ ì³ë³´ì„¸ìš”" autocomplete="off">

  <div class="speed" id="speed">0</div>

</div>

<script>
const data = {
  drama: [
    "ëˆ„êµ¬ì˜ ì¸ìƒì´ê±´ ì‹ ì´ ë¨¸ë¬¼ë‹¤ ê°€ëŠ” ìˆœê°„ì´ ìˆë‹¤.",
    "ì¢‹ì•„í•˜ëŠ” ë° ì´ìœ ê°€ ì–´ë”¨ì–´",
    "ë‚˜ëŠ” ë„ˆë‘ ìˆìœ¼ë©´ ë‚˜ë‹µë‹¤.",
    "ì„¤ë ˆëŠ” ê±´ ëŠ˜ ì‚¬ì†Œí•œ ê±°ì•¼.",
    "ì—°ì• ëŠ” íƒ€ì´ë°ì´ê³ , ê²°ì‹¬ì´ì•¼.",
    "ë„¤ê°€ ì›ƒìœ¼ë©´ ë‹¤ ê´œì°®ì•„ì ¸.",
    "ë‚˜ìœ ë†ˆì€ ì›ë˜ ë¹¨ë¦¬ ì£½ì–´. ê·¸ë˜ì•¼ ì°©í•œ ì‚¬ëŒë“¤ì´ ì˜¤ë˜ ì‚´ê±°ë“ .",
    "ë‚˜ëŠ” ë„ˆí•œí…Œë§Œ ì•½í•´.",
    "ìš°ì—°ì¸ ì²™ ë‹¤ê°€ì˜¨ ê²Œ ì‚¬ë‘ì´ì•¼.",
    "ì´ë˜ì„œ ë‚¨ë“¤ ë†€ì•„ë³¼ ë•Œ ë†€ì•„ì•¼ì§€ ë‚˜ì´ ë“¤ì–´ì„œ ì‚¬ê³ ë¥¼ ì•ˆì¹˜ëŠ”ë°..",
    "ìš°ë¦¬ì˜ ê±¸ìŒì€ ìš°ë¦¬ë¥¼ í½ ë‹®ì•„ìˆì—ˆë‹¤."
  ],
  movie: [
    "ì¸ìƒì€ ì›ë˜ ê³„íšëŒ€ë¡œ ì•ˆ ë¼.",
    "ì™„ë²½í•œ ì‚¬ëŒì€ ì—†ë‹¤.",
    "ì‹¤ìˆ˜ ì¢€ í•˜ë©´ ì–´ë•Œ.",
    "í–‰ë³µì€ ëŒ€ì¶© ì‚´ì•„ë„ ì˜¨ë‹¤.",
    "ì›ƒê¸°ë‹¤ ë³´ë©´ ì‚´ì•„ì§„ë‹¤.",
    "ì¸ìƒì´ ì½”ë¯¸ë””ì¸ ë‚ ë„ ìˆë‹¤.",
    "ë„ˆë¬´ ì˜ ì‚´ í•„ìš”ëŠ” ì—†ì–´.",
    "ë¬»ê³  ë”ë¸”ë¡œ ê°€!",
    "ë‹ˆê°€ ê°€ë¼, í•˜ì™€ì´.",
    "ì‚´ë ¤ëŠ” ë“œë¦´ê²Œ.",
    "ë‚´ê°€ ì™•ì´ ë  ìƒì¸ê°€.",
    "ë§ˆ, ë‹ˆ ë‚´ ëˆ„êµ°ì§€ ì•„ë‹ˆ?",
    "ê³ ë§ˆí•´ë¼, ë§ˆì´ ë¬µì—ˆë‹¤ ì•„ì´ê°€.",
    "ì‚¬ëŒì´ ì£„ë¥¼ ì§€ìœ¼ë©´ ë²Œì„ ë°›ì•„ì•¼ì§€.",
    "ë„ˆëŠ” ë‹¤ ê³„íšì´ ìˆêµ¬ë‚˜.",
    "ì‹¸ëŠ˜í•˜ë‹¤. ê°€ìŠ´ì— ë¹„ìˆ˜ê°€ ë‚ ì•„ì™€ ê½‚íŒë‹¤.",
    "ì§€ê¸ˆê¹Œì§€ ì´ëŸ° ë§›ì€ ì—†ì—ˆë‹¤. ì´ê²ƒì€ ê°ˆë¹„ì¸ê°€ í†µë‹­ì¸ê°€. ë„¤ ìˆ˜ì› ì™•ê°ˆë¹„ í†µë‹­ì…ë‹ˆë‹¤."
  ],
  anime: [
    "ì •ì˜ì˜ ì´ë¦„ìœ¼ë¡œ ë„ ìš©ì„œí•˜ì§€ ì•Šê² ë‹¤!",
    "ì£¼ë‹˜, ì˜¤ëŠ˜ë„ ì •ì˜ë¡œìš´ ë„ë‘‘ì´ ë˜ëŠ” ê±¸ í—ˆë½í•´ì£¼ì„¸ìš”.",
    "ì°¾ì•„ë¼ ë¹„ë°€ì˜ ì—´ì‡ , ë¯¸ë¡œê°™ì´ ì–½íŒ ëª¨í—˜ë“¤.",
    "ë°¤í•˜ëŠ˜ ì € ë©€ë¦¬ì„œ ë¹›ë‚˜ê³  ìˆëŠ” ê¿ˆê²°ê°™ì€ ìš°ë¦¬ì˜ ì‚¬ë‘",
    "ì „ì„¤ ì†ì—ì„œ ì´ë£¨ì§€ ëª»í•œ ì‚¬ë‘, ê·¸ ì•½ì† ì§€í‚¤ëŸ¬ ë„Œ ì˜¨ê±°ì•¼",
    "ì ì´ì œ ì‹œì‘ì´ì•¼, ë‚´ ê¿ˆì„ ìœ„í•œ ì—¬í–‰~ í”¼ì¹´ì¸„",
    "ë‚´ ì–´ë¦° ì‹œì ˆ ìš°ì—°íˆ ë“¤ì—ˆë˜ ë¯¿ì§€ ëª»í•  í•œë§ˆë””",
    "ì°¾ì•„ë¼ ë“œë˜ê³¤ë³¼ ì„¸ìƒì—ì„œ ì œì¼ ì‹ ë¹„ë¡œìš´ ë¹„ë°€",
    "ë§ˆì§€ë§‰ì— ì›ƒê¸° ìœ„í•´ ìš°ë¦¬ë“¤ì˜ ì˜¤ëŠ˜ì„ ê¸°êº¼ì´ ì´ê²¨ë‚´ê°€ì",
    "ê·¸ë‘ì£  ê·¸ë‘ì£  ë§ˆë²•ìœ¼ë¡œ ë¹›ë‚˜ëŠ” ê·¸ë‘ì£ ",
    "ì˜›ë‚  ì˜›ë‚  í•œ ì˜›ë‚ ì— ë‹¤ì„¯ì•„ì´ê°€ ìš°ì£¼ ë©€ë¦¬ ì•„ì£¼ ë©€ë¦¬ ì‚¬ë¼ì¡Œë‹¤ë„¤",
    "ì•„ì¹¨í•´ê°€ ë¹›ë‚˜ëŠ” ëì´ ì—†ëŠ” ë°”ë‹·ê°€",
    "ë„ˆëŠ” í•  ìˆ˜ ìˆì–´, ì„¸ê³„ì˜ í”¼êµ¬ì™•, í†µí‚¤ íŒŒì´íŒ… í”¼êµ¬ì™•ì™•ì™•",
    "ëœ¨ê±°ìš´ ì½”íŠ¸ë¥¼ ê°€ë¥´ë©° ë„ˆì—ê²Œ ê°€ê³  ìˆì–´",
    "ë¬´ì§€ê°œ ë‹¤ë¦¬ ë†“ê³  ê°€ê³  ì‹¶ì–´ë„ ì§€ê¸ˆì€ ê°ˆ ìˆ˜ ì—†ëŠ” ì € ë¨¼ ìš°ì£¼ëŠ”",
    "ì•„ì£¼ ë¨¼ ì˜›ë‚  ìš°ë¦¬ê°€ ìˆì—ˆì§€ ì˜ë¦¬ìˆê³  ìš©ê°í•œ ì •ì˜ì˜ ìš©ì‚¬",
    "ì˜¤ëŠ˜ ë°¤ì—” ë¬´ìŠ¨ ì¼ì„ í• ê¹Œ ëˆ„êµ¬ì—ê²Œ ê¸°ì¨ì„ ì¤„ê¹Œ",
    "ì¹˜í‚¤ì¹˜í‚¤ì°¨ì¹´ì°¨ì¹´ì´ˆì½”ì´ˆì½”ì´ˆ",
    "ë›°ì–´ë¼ ë›°ì–´ ì¹œêµ¬ì•¼ ì´ê²¨ë¼, ì´ê²¨ë¼",
    "ë¾°ë¡œë¡± ê¼¬ë§ˆ ë§ˆë…€ ì—´ë‘ì‚´ë‚œ ë§ˆë²•, ë§ˆë²•ì˜ ì²œì‚¬",
    "í•œì¹˜ë‘ì¹˜ ì„¸ì¹˜ ë„¤ì¹˜ ë¿Œê¾¸ ë¹µ ë¿Œê¾¸ ë¹µ",
    "ìš”ë¦¬ë³´ê³  ì¡°ë¦¬ë´ë„ ì•Œ ìˆ˜ ì—†ëŠ” ë‘˜ë¦¬ ë‘˜ë¦¬",
    "ë§Œë‚  ìˆ˜ ì—†ì–´ ë§Œë‚˜ê³  ì‹¶ì€ë° ê·¸ëŸ° ìŠ¬í”ˆ ê¸°ë¶„ì¸ê±¸",
    "ì•¼ë¹ ë¹  ì•¼ë¹ ë¹  ì›…~ë¬˜ìµì²œ ì´ê³³ì— ë¹ ì§€ë©´ ì•„ë¹  íŒ¬ë”ê³°",
    "ì € ë†’ì€ í•˜ëŠ˜ì„ ìƒˆê°€ ë˜ì–´ ë‚ ì•„ê°€ê³  ì‹¶ì–´",
    "ì™¸ë¡œìš´ ì‚¬ëŒë“¤ì˜ ë§ˆìŒì„ ì—´ì–´ì¤„ê±°ì•¼",
    "í‰í™”ë¥¼ ì„ í¬í•˜ëŠ” ìš°ì£¼ì „ì‚¬ ìš°ë¦¬ë“¤",
    "ìš°ë¦¬ì˜ ëª¸ì—ëŠ” ì•„ë¬´ë„ ë³¼ ìˆ˜ ì—†ëŠ” í˜ì´ ìˆì–´ìš” ë¹„ë°€ì„ ê°–ê³  ìˆì–´ìš”",
    "í‘¸ë¥´ê²Œ ë¹›ë‚˜ëŠ” ì•„ë¦„ë‹¤ìš´ ì§€êµ¬ì˜ í‰í™”ë¥¼ ì§“ë°ŸëŠ” ìš°ì£¼ ì›ì‹œ ê´´ë¬¼ë“¤"
  ]
};

let currentType = "drama";
let currentSentence = "";
let startTime = null;

const sentenceEl = document.getElementById("sentence");
const input = document.getElementById("input");
const speedEl = document.getElementById("speed");

function newSentence() {
  sentenceEl.classList.add("fade-out");

  setTimeout(() => {
    const list = data[currentType];
    currentSentence = list[Math.floor(Math.random() * list.length)];
    sentenceEl.innerHTML = "";
    input.value = "";
    startTime = null;
    speedEl.textContent = "0";
    speedEl.classList.remove("sparkle");

    [...currentSentence].forEach(char => {
      const span = document.createElement("span");
      span.textContent = char;
      sentenceEl.appendChild(span);
    });

    sentenceEl.classList.remove("fade-out");
  }, 200);
}

function speedColor(speed) {
  if (speed < 100) return "#bcdffb";
  if (speed < 200) return "#ffb347";
  if (speed < 300) return "#ff6f6f";
  if (speed < 400) return "#8fbc93";
  if (speed < 500) return "#6fa8dc";
  if (speed < 600) return "#b39ddb";
  if (speed < 700) return "#f4a6c1";
  if (speed < 800) return "#b08d57";
  return "#000";
}

input.addEventListener("input", () => {
  if (!startTime) startTime = Date.now();

  const minutes = (Date.now() - startTime) / 60000;
  const speed = Math.floor(input.value.length / minutes) || 0;

  speedEl.style.color = speedColor(speed);
  speedEl.textContent = speed;

  if (speed >= 500) {
    speedEl.classList.add("sparkle");
    speedEl.textContent = `âœ¨ ${speed} âœ¨`;
  }

  const spans = sentenceEl.querySelectorAll("span");
  spans.forEach((span, i) => {
    if (!input.value[i]) span.className = "";
    else if (input.value[i] === span.textContent) span.className = "correct";
    else span.className = "incorrect";
  });
});

/* â¬…ï¸â¬†ï¸â¬‡ï¸ ë°©í•´ ì•ˆ í•˜ê³  â†’ ë§Œ ì‚¬ìš© */
input.addEventListener("keydown", e => {

  // ì—”í„° / ìŠ¤í˜ì´ìŠ¤ : ë‹¤ ì³¤ì„ ë•Œë§Œ
  if ((e.key === "Enter" || e.key === " ") && input.value === currentSentence) {
    e.preventDefault();
    newSentence();
  }

  // ğŸ‘‰ ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ : ë¬´ì¡°ê±´ ë‹¤ìŒ ë¬¸ì¥
  if (e.key === "ArrowRight") {
    e.preventDefault();
    newSentence();
  }
});

document.querySelectorAll(".categories button").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".categories button").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    currentType = btn.dataset.type;
    newSentence();
  });
});

newSentence();
</script>

</body>
</html>
